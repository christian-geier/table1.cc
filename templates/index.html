<html>
  <head>
    <meta charset="UTF-8">
    <meta name="description" content="Welcome to table1.cc - Generate Your Table 1 in seconds!
    Born out of frustration & here to ease your pain. Simply Paste to generate 'Table 1' automatically for you.">
    <meta name="keywords" content="Table 1, automate, scholar, population, publication, app">
    <meta name="author" content="Christian Geier, MD">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type= "text/css" href="{{ url_for('static',filename='styles/styles.css') }}">
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">

  </head>


<body>

<title>table1.cc | Your Table 1 through Drag & Drop in Seconds!</title>


<h1>Welcome to table1.cc - Generate Your Table 1 in <em>Seconds</em>!</h1>

<p>
Scholarly work often requires to generate a <em>"Table 1"</em> to show summarized population data.
This may require an interative, highly repetitive workflow. Available software packages for R and Python provide part of the solution
yet their adoption is limited by barriers to use programming syntax.
</p>

<hr>

<p>
Table1.cc aims to make this functionality accessible to a large portion of researchers.
</p>

<p>Hope you find it useful!</p>


<div class="container">
    <div class="column">
      <form method="post">
        <h2>Paste excel data here:</h2>
            {{form.hidden_tag()}}
            {{ form.excel_data() }}
            {{ form.submit() }}
      </form>
    </div>

    <div class="column">
      <form method="post" action=''>
      <h2>Table data will appear here:</h2>
      <div id="excel_table"></div>
      <button type="submit">Make Table 1!</button>
      </form>
  </div>

</body>

<script>

function generateTable() {
    var data = $('#pastein').val();
var rows = data.split("\n");

var table = $('<table />');

for(var y in rows) {
    var cells = rows[y].split("\t");
    var row = $('<tr />');
    for(var x in cells) {
        row.append('<td>'+cells[x]+'</td>');
    }
    table.append('<input type="hidden" name="value">');
    table.append(row);
    table.append('</input>');
}

// Insert into DOM
$('#excel_table').html(table);
}

$(document).ready(function() {
	$('#pastein').on('paste', function(event) {
      $('#pastein').on('input', function() {
        generateTable();
        $('#pastein').off('input');
      })
  })
})


// $(document).ready( function () {
//     $('#parsed_table').DataTable();
// } );


</script>

</html>
